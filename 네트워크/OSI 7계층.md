# OSI 7계층

<br>

OSI 7계층은 네트워크 통신의 7단계 과정을 말한다.

<br>

---

<br>

## 1계층 물리적 계층

<br>

인코딩 , 디코딩으로 0과 1로 두대의 컴퓨터가 데이터를 아날로그 신호로 받는다.

<br>

1. 0과 1로 이루어진 데이터를 인코더를 통해 인코딩을 하여 아날로그 신호로 바꾸어준다.
2. 전기적 신호로 다른 컴퓨터에게 전송할때 아날로그 신호로 전달한다.
3. 아날로그 신호를 수신측은 아날로그 신호를 받는다
4. 디코더를 통해 아날로그 신호를 0과 1로 디코딩한다.

<br>

**물리적 계층 기술 구현은 어디서?**

물리적 계층의 기술은 **PHY 칩에있다**.

1계층 모듈은 하드웨어적으로 구현되어 있다.

인코더 디코더는 함수가 아니라 사실 회로를 통해 변경시켜준다.

<br>

전기신호를 주고받는데 주 목적이 있으며 데이터의 종류나 에러가 있는지 등 확인은 하지 않는다.

<br>

\*디코더, 인코더 : 프로그래밍에서 함수라고 생각하면 된다.

\*인코딩, 디코딩 : 디코더, 인코더를 통해 데이터를 변경시키는 것을 말한다.

<br>

## 2계층 데이터 링크 계층

<br>

여러대의 컴퓨터가 통신을 하려면 하나의 스위치, 라우터를 통해 연결되어 있다.

여러대의 컴퓨터가 동시에 하나의 컴퓨터에 데이터를 전송한다고 한다면.

<br>

0과 1로 이루어진 데이터를 어느 값으로 앞과 끝을 구성하게 한다음 끊어 읽으면 정상적으로 데이터를 구분해서 얻을 수 있다.

이러한 기술을 데이터 링크 계층에서 수행한다.

<br>

같은 네트워크에 있는 여러대의 컴퓨터들이 데이터를 주고받기 위해서 필요한 모듈

Framing은 데이터링크 계층에서 이루어진다.

<br>

과정

1. 데이터가 2계층의 인코더를 통해 Framing 과정을 거쳐서 나오게 된다.
2. 이 결과가 1계층 인코더로 들어가게 된다.
3. 그 결과로 아날로그 시그널이 나온다.
4. 전송자의 컴퓨터에 나와 전선을 통해 나온다
5. 수신측의 디코더로 들어간다.
6. 아날로그 신호를 디코더를 통해 0과 1로 디코딩한다
7. Framing 되어진 데이터를 2계층 디코더를 통해 디코딩하여 데이터를 얻는다.

<br>

**데이터 링크 구현은 어디서?**

데이터 링크 기술은 **랜카드로** 구현된다.

2계층도 1계층처럼 하드웨어로 구성되어있다.

<br>

또한 데이터를 전송시 데이터 전송 오류를 감지하는 기능을 제공하며 오류를 감지하면 재전송하는 방법으로 처리한다.

<br>

데이터 링크 계층에선 MAC 주소를 가지고 통신한다.

<br>

\*Framing : 데이터의 0과 1을 구분지어 앞과 뒤에 배치하는 작업

<br>

## 3계층 네트위크 계층

<br>

IP주소는 각 컴퓨터마다 고유의 주소를 가지고 있다.

A 컴퓨터가 데이터를 B 컴퓨터에 보낸다고 할때 B컴퓨터가 가지고 있는 고유의 주소인 IP를 데이터의 앞에 붙여서 보낸다.

<br>

IP를 알아내는 방법은 DNS를 통해 도메인을 IP주소로 바꾼뒤 데이터를 전송한다.

<br>

즉 , IP 주소가 있어야 전송할 컴퓨터를 알 수 있고 보낼 수 있다.

IP주소와 데이터가 묶여진것을 패킷이라고 한다.

<br>

1. A컴퓨터는 패킷을 전송하기 위해 라우터에 전송한다.
2. 라우터는 해당 패킷을 열어 목적지인 IP를 확인한다.
3. 확인한 IP가 자신의 라우터에 연결되어있는지 확인한뒤 없으면 포장ㄹ한뒤 자신의 상위 라우터에 보낸다
4. 상위 라우터도 패킷을 열어 IP를 확인하고 B컴퓨터의 라우터에게 보내도록 확인한뒤 포장하여 보낸다.

<br>

라우터를 통해 여러 네트워크들이 연결된다.

이러한 것을 inter-network 라고한다.

<br>

어딘가에 있는 목적지 컴퓨터로 데이터를 전송하기 위해 IP 주소를 이용해 길을 찾고(Routing)

<br>

자신의 다음 라우터에에게 데이터를 넘겨주는 작업을 한다.(Forwarding)

<br>

과정

1. 데이터를 3계층 인코더를 통해 인코딩을 하여 IP주소가 포함하는 패킷을 만든다.
2. 2계층 인코더에 들어가 2계층 인코딩을 하여 Framing을 한다.
3. 1계층 인코더에 들어가 아날로그 신호가 되어 나온다
4. 전선을 통해 인접한 라우터에 들어간다.
5. 1계층 디코더를 통해 디코딩을 하여 0과 1로 만든다.
6. 2계층 디코더를 통해 Framing을 벗겨네는 디코딩을 한다
7. 3계층 디코더를 통해 디코딩을 하여 IP 주소를 확인한다.
8. 확인한 IP주소를 통해 다른 라우터로 가서 3계층 인코더를 통해 인코딩하여 데이터에 IP주소를 붙인다.
9. 2계층 인코더를 통해 Framing을 하여 인코딩한다.
10. 마지막으로 1계층으로 인코딩을 하여 아날로그 신호로 바꾸어주어 다음 순서의 라우터에게 전달한다.

<br>

**네트워크 계층 기술의 구현은 어디?**

**운영체제의 커널에 소프트웨어적으로 구현되어 있다.**

<br>

## 4계층 전송 계층

<br>

컴퓨터가 데이터를 받으면 열려있는 여러개의 프로세스(프로그램)중 하나에 올바른 데이터를 주어야한다.

<br>

이렇게 데이터를 받은후 프로세스에게 데이터를 주기위해 목적지인 Port 번호를 통해 전송해준다.

<br>

따라서 전송측에서는 Port 번호를 알고있어야하고 그때 데이터 앞쪽에 붙여준다.

또한 수신측도 Port번호를 통해 데이터를 올바른 프로세스에 전달해 준다.

<br>

Port 번호를 사용하여 도착지 컴퓨터의 최종 도착지인 프로세스(프로그램)까지 데이터가 도달하게 하는 모듈이다.

<br>

과정

1. 데이터를 4계층 인코더를 통해 포트번호가 붙이는 인코딩한다.
2. 3계층 인코더를 통해 IP주소를 붙여서 인코딩한다.
3. 이후 1~2계층 인코더를 통해 인코딩하여 아날로그 신호를 전달한다.
4. 아날로그 신호를 받은후 1~2계층의 디코더를 통해 디코딩을 한다.
5. 3계층 디코더를 통해 IP주소를 디코딩한다.
6. 4계층 디코더를 통해 Port 번호를 디코딩하여 특정 프로세스에게 전달한다.

<br>

보통 4계층 포트번호를 정하는 데이터 통신 방식중 방식중 하나인 TCP 프로토콜을 주로 사용하게 된다.

전송계층에서는 데이터를 전송하고 전송 속도를 조절하며 오류가 발생된 부분은 다시 맞춰 주는 계층이다.

<br>

**전송계층 기술은 어디서 구현?**

운영체제의 커널에 소프트웨어적으로 구현되어 있다.

<br>

## 5 계층 : 세션 계층

세션 계층은 네트워크상 양쪽 연결을 관리하고 연결을 지속시켜주는 계층이다.

<br>

네트워크가 연결되었으면

- A컴퓨터 B컴퓨터가 동시에 데이터를 주고 받을 수 있는지
- A컴퓨터가 데이터를 주면, B컴퓨터는 기다리고, 이후 B컴퓨터가 주면 A컴퓨터는 받기만 할지
- A컴퓨터는 데이터를 줄 수 만있고 B컴퓨터는 데이터를 받을 수 만 있는 형태인지

를 인코더를 통해 인코딩하여 붙여준다.

<br>

통신하는 사용자들을 동기화하고 오류 복구를 진행한다.

<br>

ex) OS

<br>

## 6계층 : 표현 계층

<br>

데이터를 안전하게 전송하기 위해 **암호화**, 복호화 작업을 하는것

즉, 데이터를 어떻게 표현할 것인지 형태를 정의하고 암호화, 복호화 한다.

전세계의 언어, 문자, 표현, 코드(아스키코드 ,유니코드) 등 서로 다르므로 어떤것으로 암호화 했는지 붙여준다.

<br>

1. 6계층에서 어떤것으로 암호화를 했는지, 즉 아스키코드, 유니코드, JPG, GIF.. 등등 어떤것으로 7계층에서 사용할지를 붙여서 인코더를 통해 인코딩한다.
2. 수신측은 어떤 암호화를 했는지 디코더를 통해 디코딩한다.

<br>

응용 계층에서 Data를 이해할 수 있게 응용프로그램에 맞춰 변환하게 된다.

JPEG, TIFF, GIF, MPEG등 다양한 포멧을 구분하게 된다.

<br>

## 7 계층 응용 계층

OSI의 최상위 7계층인 응용계층은 사용자 또는 어플리케이션이 네트워크에 접근할 수 있도록 해준다.

<br>

사용자를 위한 인터페이스를 지원해준다.

사용자에게 보이는 유일한 계층이라고 할 수 있다.

메일 전송, 인터넷 접속등의 작업을 수행할 수 있다.

<br>

HTTP 인코더를 통해 Satus code, 등 어떤 프로그램을 썼는지를 해더에 묶여서 인코딩한다.

<br>

수신측도 마찬가지로 디코딩을 통해 이러한 내용을 디코딩한다.

<br>

ex)

- 웹브라우저 : 구글 크롬, 파이어폭스, 사파리 등
- 응용 프로그램 : 스카이프, 아웃룩, 오피스 등

<br>

## 결론

각 계층마다 헤더를 붙여서 캡슐화를 진행하게되고

<br>

수신측에서는 물리계층부터 차례로 올라가면서 헤더를 떼어낸다.

이렇게 디캡슐레이션을 진행하여 마지막 목적지에 원하는 데이터가 전송하게 된다.

<br>

참고

- [http://blog.naver.com/PostView.nhn?blogId=pst8627&logNo=221670903384](http://blog.naver.com/PostView.nhn?blogId=pst8627&logNo=221670903384)
- [https://www.ciokorea.com/news/36536](https://www.ciokorea.com/news/36536)
- [https://www.youtube.com/watch?v=1pfTxp25MA8](https://www.youtube.com/watch?v=1pfTxp25MA8)
